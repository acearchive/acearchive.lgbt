version: 1
fields:
  - "slug"
  - "version"
  - "title"
  - "description"
  - "longDescription"
  - "files"
  - "links"
  - "people"
  - "identities"
  - "fromYear"
  - "toYear"
  - "decades"
  - "aliases"
definitions:
  slug:
    fieldName: "slug"
    label: "URL slug"
    type: "string"
    required: true
    showInFormDocs: true
    showInFileDocs: false
    placeholder: "orlando-the-asexual-manifesto"
    htmlFormValidation:
      - attribute: pattern
        value: "^[a-z0-9][a-z0-9-]*[a-z0-9]$"
        message: "The URL slug should be lowercase and use hyphens between words."
      - attribute: minlength
        value: "16"
        message: "The URL slug should be at least 16 characters."
      - attribute: maxlength
        value: "64"
        message: "The URL slug should not exceed 64 characters."
    description: |
      Every artifact in the repository has a URL like:

      <https://acearchive.lgbt/artifact/orlando-the-asexual-manifesto>

      When you add a new artifact, you need to choose a URL slug for it, which is
      that last part of the path.

      A URL slug should always be lowercase and use hyphens to separate words, and
      it will generally follow the format `author-title`. If the author has a first
      and last name (i.e. isn't a handle or username), you can just use the last
      name. If the title of the work is long, you can use a shortened version of
      it. If there is no obvious author associated with the work, you can just use
      the title.

      If the combination of the author and the title of the work is ambiguous,
      (such as a forum thread where the title of the thread might just be
      "asexuality"), then you can provide additional context like
      `context-author-title`. For an AVEN forum thread by "coolasexualperson"
      called "romance", the URL slug might be
      `aven-forums-coolasexualperson-romance`.
  version:
    fieldName: "version"
    label: "Version"
    type: "integer"
    required: true
    showInFormDocs: false
    showInFileDocs: true
    placeholder: "1"
    description: >
      Sometimes the format of artifact files changes. This is the version
      number for the artifact file format. This will be set to the current
      version when you open a pull request, so you can leave it alone.
  title:
    fieldName: "title"
    label: "Title"
    type: "string"
    required: true
    showInFormDocs: true
    showInFileDocs: true
    placeholder: "<em>The Asexual Manifesto</em>"
    htmlFormValidation:
      - attribute: maxlength
        value: "100"
        message: "The title should not exceed 100 characters."
    description: >
      This is the title of the artifact. If the artifact represents a
      creative work (a book, essay, blog post, etc.), this should be the
      title of that work. If the artifact encompasses multiple works or
      doesn’t have an obvious title, it can be a short description instead.
      You should always quote or italicize the titles of works, and you can
      add italics in an artifact title using HTML `<em>Title of Work</em>`
      syntax.
  description:
    fieldName: "description"
    label: "Short description"
    type: "string"
    required: true
    showInFormDocs: true
    showInFileDocs: true
    placeholder: "A paper by the Asexual Caucus of the New York Radical Feminists"
    htmlFormValidation:
      - attribute: maxlength
        value: "150"
        message: "The short description should not exceed 150 characters."
    description: >
      This is a short, one sentence description of the artifact that should
      provide context and explain its significance to the queer community (i.e.
      why it’s in the archive). This description should complete the sentence
      “This artifact is…”
  longDescription:
    fieldName: "longDescription"
    label: "Long description"
    type: "string"
    required: false
    showInFormDocs: true
    showInFileDocs: true
    placeholder: "A paper by the Asexual Caucus of the New York Radical Feminists"
    htmlFormValidation:
      - attribute: maxlength
        value: "300"
        message: "The long description should not exceed 300 characters."
    description: >
      If you want to provide more context than you can fit in the short
      description, you can optionally provide a longer description that will
      appear in the page for the artifact. This should also complete the
      sentence "This artifact is..."
  files:
    fieldName: "files"
    label: "Files"
    singularLabel: "file"
    type: "array"
    itemType: "object"
    required: false
    showInFormDocs: true
    showInFileDocs: true
    description: >
      The list files to include in the artifact.
    fields: ["name", "mediaType", "filename", "cid"]
    definitions:
      name:
        fieldName: "files.name"
        label: "Label"
        type: "string"
        required: true
        showInFormDocs: true
        showInFileDocs: true
        indentLevel: 1
        placeholder: "Digital Scan"
        description: >
          A label for the file. If the artifact consists of multiple creative
          works, this should generally include the title of the work so people
          can disambiguate them. If the artifact consists of a single work, it
          can be something short like "Paper," "Transcript," "Citation," etc.
      mediaType:
        fieldName: "files.mediaType"
        label: "Media type"
        type: "string"
        required: false
        showInFormDocs: true
        showInFileDocs: true
        indentLevel: 1
        placeholder: "application/pdf"
        htmlFormValidation:
          - attribute: pattern
            value: "^(application|audio|font|image|model|text|video|message|multipart)/[\\w\\d.+-]+$"
            message: "Must be a valid MIME type."
        description: >
          The file type of the file. This should be formatted as a MIME type like
          `application/pdf` or `image/png`. If you need help figuring out the
          MIME type of a file, you can use [mimetype.io](https://mimetype.io/) to
          look it up. If the file is a format that doesn't have a well-known MIME
          type, you can omit this.
      filename:
        fieldName: "files.filename"
        label: "File name"
        type: "string"
        required: false
        showInFormDocs: true
        showInFileDocs: true
        indentLevel: 1
        placeholder: "the-asexual-manifesto.pdf"
        htmlFormValidation:
          - attribute: pattern
            value: "^[\\w\\d][\\w\\d-]*[\\w\\d](\\.[\\w\\d]+)+$"
            message: "File names must use hyphens between words and have a file extension."
        description: >
          A file name to be used when downloading the file. This should use
          hyphens instead of spaces and should always include an appropriate file
          extension. If the file is actually a directory containing multiple
          files, you can omit this.
      cid:
        fieldName: "files.cid"
        label: "CID"
        type: "string"
        required: true
        showInFormDocs: true
        showInFileDocs: true
        indentLevel: 1
        placeholder: "bafybeihsf4562gmmyoya7eh5buxv65lqcdoil3wsi5jf5fceskap7yzooi"
        customValidator: "cid"
        description: >
          This is the CID (content identifier) of the file. This also accepts a
          `dweb.link` URL. You need to upload the file to
          [Web3.Storage](https://web3.storage) to get its CID. For more
          information, see [the docs](/docs/contributing/uploading-files).
  links:
    fieldName: "links"
    label: "Links"
    singularLabel: "link"
    type: "array"
    itemType: "object"
    required: false
    showInFormDocs: true
    showInFileDocs: true
    description: >
      A list of links to web sites to include in the artifact.
    fields: ["name", "url"]
    definitions:
      name:
        fieldName: "links.name"
        label: "Label"
        type: "string"
        required: true
        showInFormDocs: true
        showInFileDocs: true
        indentLevel: 1
        placeholder: "Internet Archive"
        description: >
          A label for the link. If the artifact consists of multiple creative
          works, this should generally include the title of the work so people
          can disambiguate them. If the artifact consists of a single work, it
          can be something short like “Paper,” “Transcript,” “Citation,” etc.
      url:
        fieldName: "links.url"
        label: "URL"
        type: "string"
        required: true
        showInFormDocs: true
        showInFileDocs: true
        indentLevel: 1
        placeholder: "https://archive.org/details/asexualmanifestolisaorlando"
        htmlFormValidation:
          - attribute: type
            value: "url"
            message: "This must be a valid URL."
          - attribute: pattern
            value: "^https?://.*$"
            message: "This must be an https:// URL."
        description: >
          The `https://` URL that the link points to.
  people:
    fieldName: "people"
    label: "People"
    type: "array"
    itemType: "string"
    required: false
    showInFormDocs: true
    showInFileDocs: true
    placeholder: "Lisa Orlando, Barbara Getz"
    description: >
      A list of (usually 1-4) people closely associated with the artifact,
      such as the author of a book, the subject of a photo, the original
      poster of a forum thread, the person who coined a new term, etc. This
      is helpful for linking together different artifacts which are
      associated with the same people. This can be omitted if the people
      associated with the artifact aren't clear or there were many different
      people involved.
  identities:
    fieldName: "identities"
    label: "Identities"
    type: "array"
    itemType: "string"
    required: false
    showInFormDocs: true
    showInFileDocs: true
    placeholder: "asexual, lesbian, non-binary"
    description: >
      A list of queer identities associated with the artifact. For example,
      if this is a blog post about aromanticism, then "aromantic" should be
      included in the list of identities. The identity should be in adjective
      form, meaning it can complete the sentence, "Artifacts about _ people".
      This can be omitted if the identities associated with the work aren't
      clear (e.g. it's about queer identities as a whole).
  fromYear:
    fieldName: "fromYear"
    label: "Start year"
    type: "integer"
    required: true
    showInFormDocs: true
    showInFileDocs: true
    placeholder: "1972"
    description: >
      The year the creative work associated with the artifact was published
      (or written, posted, etc.). If the artifact encompasses multiple works
      that were published in different years, this should be the year the
      first work was published.
  toYear:
    fieldName: "toYear"
    label: "End year"
    type: "integer"
    required: false
    showInFormDocs: true
    showInFileDocs: true
    placeholder: "1989"
    description: >
      If the artifact encompasses multiple creative works that were published
      in different years, this should be the year the last work was
      published. If the works associated with the artifact were only
      published in one year, this should be omitted.
  decades:
    fieldName: "decades"
    label: "Decades"
    type: "array"
    itemType: "integer"
    required: true
    showInFormDocs: true
    showInFileDocs: true
    placeholder: "1970, 1980"
    htmlFormValidation:
      - attribute: pattern
        value: "^\\s*[0-9]{1,3}0\\s*(,\\s*[0-9]{1,3}0\\s*)*$"
        message: "This must be a comma-separated list of decades."
    description: >
      The list of decades in which a creative work associated with the
      artifact was published. If a work was published in 1980 and another
      work was published in 2009, this should include 1980 and 2000.
  aliases:
    fieldName: "aliases"
    label: "Aliases"
    type: "array"
    itemType: "string"
    required: false
    showInFormDocs: false
    showInFileDocs: true
    placeholder: "choose-your-label-bernard-college"
    description: >
      If the URL slug of an artifact must change for any reason, you must
      specify all of its previous URL slugs here so that the old links can
      redirect to the new one. For new artifacts, you should omit this.
